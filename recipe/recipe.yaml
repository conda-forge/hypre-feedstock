schema_version: 1

context:
  name: hypre
  version: 2.33.0
  sha256: 0f9103c34bce7a5dcbdb79a502720fc8aab4db9fd0146e0791cde7ec878f27da
  build: 0

package:
  name: ${{ name }}
  version: ${{ version }}

source:
  url: https://github.com/hypre-space/${{ name }}/archive/v${{ version }}.tar.gz
  sha256: ${{ sha256 }}

build:
  number: ${{ build }}
  skip: win

requirements:
  build:
    - cmake
    - ${{ compiler('c') }}
    - ${{ stdlib("c") }}
    - ${{ compiler('cxx') }}
    - make
    - if: build_platform != target_platform and mpi == "openmpi"
      then: ${{ mpi }}
  host:
    - libblas
    - liblapack
    - ${{ mpi }}
  run_exports:
    - ${{ pin_subpackage("hypre", upper_bound="x.x") }}

tests:
  - package_contents:
      lib:
        - HYPRE
      include:
        - HYPRE.h

about:
  license: Apache-2.0
  license_file: COPYRIGHT
  summary: high performance preconditioners for sparse linear systems
  description: |
    HYPRE is a library of high performance preconditioners and solvers featuring
    multigrid methods for the solution of large, sparse linear systems of equations
    on massively parallel computers.
  homepage: https://www.llnl.gov/casc/hypre/
  repository: https://github.com/hypre-space/hypre
  documentation: https://hypre.readthedocs.io

extra:
  recipe-maintainers:
    - dalcinl
    - minrk
    - davidbrochart
    - SylvainCorlay
    - matthiasdiener
